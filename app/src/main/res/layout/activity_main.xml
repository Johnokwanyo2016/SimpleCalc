<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android">

    <data>
        <variable
            name="viewModel"
            type="com.example.simplecalc.CalculatorViewModel" />
    </data>

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="16dp">

        <TextView
            android:id="@+id/historyText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@{viewModel.history}"
            android:layout_alignParentTop="true"
            android:layout_centerHorizontal="true"
            android:padding="8dp"
            android:textSize="16sp"/>

        <TextView
            android:id="@+id/resultText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@{viewModel.result}"
            android:layout_below="@id/historyText"
            android:layout_centerHorizontal="true"
            android:padding="8dp"
            android:textSize="24sp" />

        <GridLayout
            android:id="@+id/gridLayout"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_below="@id/resultText"
            android:layout_centerHorizontal="true"
            android:padding="8dp"
            android:rowCount="6"
            android:columnCount="5"
            android:layout_marginTop="16dp">

            <!-- Number buttons -->
            <Button android:text="7" android:onClick="@{() -> viewModel.onDigitClick('7')}" style="@style/CalculatorButton"/>
            <Button android:text="8" android:onClick="@{() -> viewModel.onDigitClick('8')}" style="@style/CalculatorButton"/>
            <Button android:text="9" android:onClick="@{() -> viewModel.onDigitClick('9')}" style="@style/CalculatorButton"/>
            <Button android:text="/" android:onClick="@{() -> viewModel.onOperatorClick('/')}" style="@style/CalculatorButton"/>
            <Button android:text="C" android:onClick="@{() -> viewModel.onClearClick()}" style="@style/CalculatorButton"/>

            <Button android:text="4" android:onClick="@{() -> viewModel.onDigitClick('4')}" style="@style/CalculatorButton"/>
            <Button android:text="5" android:onClick="@{() -> viewModel.onDigitClick('5')}" style="@style/CalculatorButton"/>
            <Button android:text="6" android:onClick="@{() -> viewModel.onDigitClick('6')}" style="@style/CalculatorButton"/>
            <Button android:text="*" android:onClick="@{() -> viewModel.onOperatorClick('*')}" style="@style/CalculatorButton"/>
            <Button android:text="(" android:onClick="@{() -> viewModel.onParenthesisClick('(')}" style="@style/CalculatorButton"/>

            <Button android:text="1" android:onClick="@{() -> viewModel.onDigitClick('1')}" style="@style/CalculatorButton"/>
            <Button android:text="2" android:onClick="@{() -> viewModel.onDigitClick('2')}" style="@style/CalculatorButton"/>
            <Button android:text="3" android:onClick="@{() -> viewModel.onDigitClick('3')}" style="@style/CalculatorButton"/>
            <Button android:text="-" android:onClick="@{() -> viewModel.onOperatorClick('-')}" style="@style/CalculatorButton"/>
            <Button android:text=")" android:onClick="@{() -> viewModel.onParenthesisClick(')')}" style="@style/CalculatorButton"/>

            <Button android:text="0" android:onClick="@{() -> viewModel.onDigitClick('0')}" style="@style/CalculatorButton"/>
            <Button android:text="." android:onClick="@{() -> viewModel.onDecimalClick()}" style="@style/CalculatorButton"/>
            <Button android:text="=" android:onClick="@{() -> viewModel.onEqualClick()}" style="@style/CalculatorButton"/>
            <Button android:text="+" android:onClick="@{() -> viewModel.onOperatorClick('+')}" style="@style/CalculatorButton"/>
            <Button android:text="^" android:onClick="@{() -> viewModel.onOperatorClick('^')}" style="@style/CalculatorButton"/>

            <!-- Scientific function buttons -->
            <Button android:text="sin" android:onClick="@{() -> viewModel.onFunctionClick('sin')}" style="@style/CalculatorButton"/>
            <Button android:text="cos" android:onClick="@{() -> viewModel.onFunctionClick('cos')}" style="@style/CalculatorButton"/>
            <Button android:text="tan" android:onClick="@{() -> viewModel.onFunctionClick('tan')}" style="@style/CalculatorButton"/>
            <Button android:text="âˆš" android:onClick="@{() -> viewModel.onFunctionClick('sqrt')}" style="@style/CalculatorButton"/>
            <Button android:text="log" android:onClick="@{() -> viewModel.onFunctionClick('log')}" style="@style/CalculatorButton"/>

        </GridLayout>

    </RelativeLayout>
</layout>
